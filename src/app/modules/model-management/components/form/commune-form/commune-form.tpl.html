<!-- Departement -->
<mat-form-field>
  <mat-select
    [formControl]="$any(entityForm.controls['departementId'])"
    id="input-departement"
    name="departement"
    placeholder="Département"
  >
    <mat-option
      *ngFor="let departement of departements$ | async"
      [value]="departement.id"
    >
      {{ departement.code }}
    </mat-option>
  </mat-select>
  <mat-error *ngIf="entityForm.controls['departementId'].hasError('required')">
    Le champ "Département" ne peut pas être vide.
  </mat-error>
</mat-form-field>

<!-- Code -->
<mat-form-field>
  <input
    [errorStateMatcher]="communeCodeErrorStateMatcher"
    [formControl]="$any(entityForm.controls['code'])"
    id="input-code"
    matInput
    max="65535"
    min="0"
    name="code"
    placeholder="Code de la commune"
    type="number"
  />

  <mat-error *ngIf="entityForm.controls['code'].hasError('required')">
    Le champ "Code de la commune" ne peut pas être vide.
  </mat-error>
  <mat-error *ngIf="entityForm.hasError('alreadyExistingCode')">
    {{ entityForm.getError("alreadyExistingCode").message }}
  </mat-error>
  <mat-error *ngIf="entityForm.controls['code'].hasError('forbiddenValue')">
    Le code de la commune doit être un entier compris entre 0 et 65535.
  </mat-error>
</mat-form-field>

<!-- Nom -->
<mat-form-field>
  <input
    [errorStateMatcher]="communeNomErrorStateMatcher"
    [formControl]="$any(entityForm.controls['nom'])"
    id="input-nom"
    matInput
    maxlength="100"
    name="nom"
    placeholder="Nom de la commune"
    type="text"
  />

  <mat-error *ngIf="entityForm.controls['nom'].hasError('required')">
    Le champ "Nom de la commune" ne peut pas être vide.
  </mat-error>
  <mat-error *ngIf="entityForm.hasError('alreadyExistingNom')">
    {{ entityForm.getError("alreadyExistingNom").message }}
  </mat-error>
</mat-form-field>
